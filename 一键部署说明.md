# 🚀 一键部署说明

## 📌 快速部署（推荐使用）

### 方法：双击运行 `快速部署.bat`

这是最简单的部署方式，已经为你配置好所有参数。

---

## 🔧 部署脚本功能

`快速部署.bat` 脚本会自动完成以下操作：

1. ✅ **刷新环境变量** - 确保 Git 命令可用
2. ✅ **配置 Git 缓冲区** - 解决大文件传输问题
   - `http.postBuffer`: 524288000 (500MB)
   - `http.lowSpeedLimit`: 0
   - `http.lowSpeedTime`: 999999
3. ✅ **显示当前状态** - 查看哪些文件被修改
4. ✅ **添加所有文件** - `git add .`
5. ✅ **提交更改** - `git commit`
6. ✅ **推送到 GitHub** - `git push origin main`
7. ✅ **显示部署链接** - 方便查看部署状态和访问网站

---

## 📝 使用步骤

### 第1步：修改文件
在本地编辑任何文件（HTML、CSS、JS、图片等）

### 第2步：运行部署脚本
双击 **`快速部署.bat`**

### 第3步：输入提交信息
- 输入更新说明（如："更新元素周期表数据"）
- 或直接回车使用默认信息："更新内容"

### 第4步：等待推送完成
脚本会自动：
- 添加所有修改的文件
- 提交到本地仓库
- 推送到 GitHub

### 第5步：等待自动部署
- 访问：https://github.com/MrZh2025/HeYiYao_Public/actions
- 等待绿色 ✓（约 2-5 分钟）

### 第6步：查看网站更新
- 访问：https://MrZh2025.github.io/HeYiYao_Public/
- 刷新页面查看更新

---

## 🎯 关键配置说明

### Git 缓冲区配置
```bash
git config --global http.postBuffer 524288000
git config --global http.lowSpeedLimit 0
git config --global http.lowSpeedTime 999999
```

**作用**：
- 解决大文件（如图片、PDF转换的HTML）传输时连接中断的问题
- 提高推送成功率
- 避免 "Connection was reset" 错误

### 推送命令
```bash
git push origin main
```

**说明**：
- `origin`: 远程仓库名称（GitHub）
- `main`: 主分支名称

---

## ⚠️ 常见问题

### Q1: 提示 "没有需要提交的更改"
**原因**：没有修改任何文件  
**解决**：修改文件后再运行脚本

### Q2: 推送失败，提示网络错误
**原因**：网络连接问题或 GitHub 访问受限  
**解决**：
1. 检查网络连接
2. 如果使用代理，确保代理正常运行
3. 重新运行脚本

### Q3: 需要输入用户名和密码
**原因**：Git 凭据过期  
**解决**：
- 用户名：`MrZh2025`
- 密码：使用 Personal Access Token（不是 GitHub 登录密码）
- 获取 Token：https://github.com/settings/tokens

### Q4: 部署后网站没有更新
**原因**：GitHub Actions 还在部署中  
**解决**：
1. 访问：https://github.com/MrZh2025/HeYiYao_Public/actions
2. 等待绿色 ✓
3. 刷新网站（Ctrl + F5 强制刷新）

---

## 📊 部署流程图

```
修改文件
   ↓
运行 快速部署.bat
   ↓
输入提交信息
   ↓
自动添加文件 (git add .)
   ↓
自动提交 (git commit)
   ↓
自动推送 (git push origin main)
   ↓
GitHub Actions 自动部署
   ↓
网站更新完成
```

---

## 🔗 重要链接

| 名称 | 地址 |
|------|------|
| GitHub 仓库 | https://github.com/MrZh2025/HeYiYao_Public |
| 部署状态 | https://github.com/MrZh2025/HeYiYao_Public/actions |
| 网站首页 | https://MrZh2025.github.io/HeYiYao_Public/ |
| 元素周期表 | https://MrZh2025.github.io/HeYiYao_Public/yuansuzhouqibiao.html |
| 放射性药物原理 | https://MrZh2025.github.io/HeYiYao_Public/放射性药物原理.html |
| 产业大屏 | https://MrZh2025.github.io/HeYiYao_Public/dashboard.html |

---

## 💡 最佳实践

1. **定期提交** - 每次修改后及时部署，避免积累太多更改
2. **清晰的提交信息** - 便于以后查看修改历史
3. **验证部署** - 每次部署后访问网站确认更新成功
4. **备份重要文件** - 虽然 Git 有版本控制，但重要文件建议额外备份

---

## 🎉 总结

现在你只需要：
1. **修改文件**
2. **双击 `快速部署.bat`**
3. **等待 2-5 分钟**
4. **刷新网站查看效果**

就这么简单！🚀

---

**创建日期**: 2025-01-15  
**维护者**: MrZh2025  
**仓库**: HeYiYao_Public

